libsarra-c (2.18.01a1) unstable; urgency=medium

  * C: made consumer tag meaningful (identifies hostname and pid of consumer.)
  * added version check and work around because get_terminal_width on python3.2 ( ubuntu 12.04 )
  * C: subscribers creating consumer for each message. api/usage wrong. Fixed.
  * added log_settings to display all settings on startup.
  * noticed wrong default settings on startup:  durable was false, should be true.
  * noticed wrong default settings on startup:  prefetch was 1, supposed to be 25.
  * flow_test: redirected much output to log files.
  * flow_test: added some libcshim (via cp command) based posting (in c diagram.)
  * flow_test: moved sr_poster code into flow_setup, so it is started at beginning instead of run in flow_check.
  * Corrected that *inflight* option was NONE on sender.  It was documented and intended to be '.tmp'.
    now it defaults to '.tmp' but if there is a post_broker, it defaults to NONE.
  * added info messages for cases where msg_received, but the log does not say what happenned (rename/link/mv cases.)
  * times used to be truncated to milliseconds, now the natural number of places after the decimal are retained.
  * C: fix: mv called from shim where no directory in old file name caused malformed *oldname* field in resulting post.
  * C: fix: segfault if credentials.conf is missing.


 -- Peter Silva <peter@idefix>  Wed, 03 Jan 2018 14:27:18 -0500

libsarra-c (2.17.12a8) unstable; urgency=medium

  * added exponential backoff on failure to main processing loop in sr_subscribe.
  * added exponential backoff to main retry loop in sr_consumer.
  * now recovers from syntax errors in retry files (json.decode errors.)
  * c: segault in mv if there's no slashes in the source path, oops!
  * added identifiers to differentiate all the Type: messages from exceptions.

 -- Peter Silva <peter@blacklab>  Mon, 18 Dec 2017 22:48:00 -0500

libsarra-c (2.17.12a7) unstable; urgency=medium

  * flow_test configurations now included in examples.
  * flow_test now uses add/remove options for setup and teardown.
  * C: added SR_CONFIG_EXAMPLES environment variable.
  * C: change C to use four digit instance numbers to match python.
  * C: add *declare* option for variables. 
  * C: Remove *flow* option.
  * fixed: second field in options was not being checked for variable substitution.
  * fixed: remove did not work for disabled configurations.
  * added sr_pulse.7 man page.
  * made 'add' look in sample directories.
  * 'enable' and 'remove' weren't working.
  * 'list' now includes sample configurations, if available.
  * change retry_ttl to default to the value of 'expire'.  Can still override.
  * C: realpath wasn't properly applied in shim library cases.
  * removed 's' from the 'headers' option in python, to match C.
  * python added 'expiry' as synonym for 'expire', to match C.
  * C: realpath only applied if an absolute path was supplied, now works for relative ones also.
  * heartbeat_memory uses psutil.memory_info, on python 3.4 (in ubuntu 14.04) that routine is called get_memory_info.
    added an if statement so it works for all cases.



 -- Peter Silva <peter@blacklab>  Mon, 18 Dec 2017 13:15:10 -0500

libsarra-c (2.17.12a6) unstable; urgency=medium

  * heartbeat processing surrounded by exception to avoid cpu-hang on bad script. 
  * list categorizes configuration files.
  * list now prints the directories containing configuration files for each category.
  * list prints plugins available also, and listing a particular plugin works now as well.
  * list now uses a PAGER, if configured, and *more* by default, rather than cat.
  * Normally stderr is redirected to logs, but when debug was set it wasn't. Now it always goes to logs.
  * added messages so heartbeat processing is visible.
  * sr_shovel would freak out if cache was set. fixed.
  * fixed heartbeat_memory so it works in sr_watch.
  * C: implemented *source* option
  * C: corrected picking of "main file" for configuration name.

 -- Peter Silva <peter@blacklab>  Tue, 12 Dec 2017 21:19:37 -0500

libsarra-c (2.17.12a5) unstable; urgency=medium

  * added exponential backoff to downloads 

 -- Peter Silva <peter@idefix>  Fri, 08 Dec 2017 09:54:37 -0500

libsarra-c (2.17.12a4) unstable; urgency=medium

  * added exponential backoff on retry, so it doesn't SPAM/hammer server when retrying.

 -- Peter Silva <peter@idefix>  Wed, 06 Dec 2017 17:28:56 -0500

libsarra-c (2.17.12a3) unstable; urgency=medium

  * added retry_ttl to have retry queue give up eventually.
  * changed behaviour to try *attempts* times before putting in the retry queue
  * buffering changed from 8K to 1M (awful performance regression due to timeouts on small bufs.)

 -- Peter Silva <peter@idefix>  Wed, 06 Dec 2017 15:38:01 -0500

libsarra-c (2.17.12a2) unstable; urgency=medium

  * bugfix: sr_watch was ignoring event option.
  * C: added recovery code after posting errors.
  * heartbeat_memory plugin added by default to control runaway memory leaks.
  * support added to python for N checksum (already in C version.)

 -- Peter Silva <peter@idefix>  Tue, 05 Dec 2017 18:01:18 -0500

libsarra-c (2.17.12a1) unstable; urgency=medium

  * bugfix: sr_post sometimes required -p. It shouldn't.
  * Semantics of *accept_unmatch* changed. 
  * bugfix: report_exchange option was ignored and overridden.
  * undocumented, and unused option 'use_pattern' withdrawn.
  * heartbeat_cache plugin added in option parsing rather than forced at end.
  * sr_poll now supports sum algorithms other than z to support polling of local files.
  * documentation bugfix: invalid links to sr_subscribe.7 corrected to sr_subscribe.1
  * testing added cases to simulate communications problems, such as message corruption.
  * bugfix: SENDER=X, filename would be =X, instead of X.
  * bugfix: sender used to print "Sends:" before sending a file, now prints "Sent:" afterward.
  * retry logic changed. Now write to a retry queue file, and try again when there is a gap. So it doesn't get "stuck" on old files, but keeps sending new stuff, catching up gradually.
  * timeouts for many parts of transfer processing added.
  * transfer code consolidated into one location rather that repeating in each protocol.
  * *Pulse* messages added, to ensure connection stays live.
  * some round-tripping added in heartbeat processing to ensure connection remains live.
  * C: fixed: was putting wrong checksum in posted messages.
  * C: now retries connection to broker forever (used to give up after one try.)
  * C: bugfix: pbu synonym for post_base_url, was not accepted, corrected.
  * C: fixed when renaming across file systems, it would fail, rather than copying the file.

 -- Peter Silva <peter@idefix>  Mon, 04 Dec 2017 17:45:52 -0500

libsarra-c (2.17.11a3) unstable; urgency=medium

  * sr_post -p|-path optional ending arguments are postpaths
  * sr_config  by default use_pika only if amqplib not available
  * sr_poll  vip written once, heartbeat_check before vip check
  * sr_instances sr_post foreground as a special case (no config)
  * sr_subscribe heartbeat_check before vip checking
  * sr_util startup_args generalized/simplified 
  * sr_util sumflg 0,random(0,100)
  * sr_watch merged into sr_post (inherited from sr_post now)
  * sr_watch post directory content at startup (if not cached)
  * sr_subscribe  revert onfly_checksum set to message checksum in case unset


 -- Peter Silva <peter@idefix>  Fri, 17 Nov 2017 13:45:48 -0500

libsarra-c (2.17.11a2) unstable; urgency=medium

  * C: fixed: build configuration directories if missing (used to segfault.)
  * C: fixed: *debug* setting misinterpreted.
  * C: fixed: option base_dir, should have been post_base_dir
  * sr_watch remnants of old cache code causing problems, removed.
  * sr_watch fixed bug with time check for files which have moved.
  * documentation improvements.
  * fixed: list,get,remove,edit,log not working for other than subscribe.
  * excessive debug messaging removed.

 -- Peter Silva <peter@idefix>  Thu, 09 Nov 2017 17:04:06 -0500

libsarra-c (2.17.11a1) unstable; urgency=medium

  * sr_subscribe bug fix for SOURCE 
  * sr_subscribe add module __on_file__
  * sr_sender    as flow test demonstrate, option post_base_url is not mandatory
  * sr_instances propagate action and permits edition of general files (admin,defaults,credentials)
  * sr_instances adds actions : add, disable, edit, enable, list, log, remove
  * sr_instances calls configure before build_parent to have all options set
  * sr_post/sr_watch get rid of useless lock stuff... fixed cache problems
  * sr_poll      able to use standard sr_file...
  * sr_(s)ftp/http  when preserve_mode is true... bug fix on setting value of mode
  * sr_file     adding some support for polling (standardisation)
  * sr_consumer file queuename ends with .qname and link to old file (to preserve version compat)
  * sr_config   late of user_log_dir and user_cache_dir to insert hostname if statehost is True
  * sr_config   statehost inserts hostname in user_cache_dir and user_log_dir
  * sr_config   module declare_option  makes program know about plugin options
  *             so program would warn only on real unknown or erronous options
  * sr_config   withdrawal of recursive option, set to True everywhere applicable
  * sr_config   log setup easier, supports loglevel none meaning no logs
  * sr_amqp.py  when using pika, no log if delete_queue and queue not found
  * sr_amqp.py  option use_pika to use or not pika when available
  * sr_amqp.py  mixing amqplib and pika depending of availability
  * sr_*        withdraw msg.headers['filename'],  msg.headers['flow']
  * sr_*        reenforcement of base_dir, post_broker, post_exchange, post_base_dir, post_base_url

 -- Peter Silva <peter@idefix>  Mon, 06 Nov 2017 15:03:50 -0500

libsarra-c (2.17.10a4) unstable; urgency=medium

  * C: msg pretty printer now includes user defined headers.
  * C: loglevel now accepts words: none, critical, error, warning, info, debug. (like python version.)
  * C: logevel numbers inverted (formerly 99 was be very quiet, no 0 is quiet.)
  * switched library dependency from amqplib to pika.
  * fix for no_download switch which wasn´t impeding downloads.


 -- Peter Silva <peter@idefix>  Mon, 30 Oct 2017 17:43:28 -0400

libsarra-c (2.17.10a3) unstable; urgency=medium

  * C: directories posted during rename. not sure what effect is.
  * documentation consolidated to sr_subscribe, much duplication gone.
  * C: sr_cpost force_polling works properly now (using cache.)
  * C: bugfix double free segfault on exit.
  * C: added directory support to sr_post_rename
  * C: libsrshim: added support for the truncate(2) system call.
  * many fixes based on deployment testing.
  * support files names with spaces in them.
  * call on_file plugins when symbolic link created.
  * sr_config    : environment variable substituted for option value
  * sr_sender    : on_msg msg_2localfile now by default (so no longer need to specify for every sender.)
  * sr_subscribe : changing determination of source (source_from_exchange or missing)
  * rmdir support (python only.)

 -- Peter Silva <peter@idefix>  Fri, 27 Oct 2017 17:26:21 -0400

libsarra-c (2.17.10a2) unstable; urgency=medium

  * add regexp option to strip.
  * now support environment variables in config files with ${var}
  * bugfix: misbehaved when file names have blanks in them.
  * added -header option to sr_post.
  * rename support added to sr_watch and python side as well.
  * fix for bug #74 - error messages on shutdown of amqps connection.
  * C: cpost setup/cleanup/declare/restart etc... some were broken, fixed.
  * C: added sighandler to avoid cache corruption when terminating.
  * C: add rename support to cpost (was only in libcshim and python before.)
  * C: bugfix: C was inventing fields if not provided (mode=0, mtime="").
  * C: added tx.select & tx.confirm (publish acknowledgements)
  * C: integrated into flow_tests.

 -- Peter Silva <peter@idefix>  Fri, 20 Oct 2017 13:21:57 -0400

libsarra-c (2.17.10a1) unstable; urgency=medium

  * cleanup/declare/setup actions (all programs): no exit, log with configname
  * sr_subscribe/sr_sarra/sr_sender : do_task plugin (initialised to proper module for now)
  * sr_subscribe: headers' source and from_cluster forced when source_from_exchange
  * sr_subscribe: add substitution for ${DR} ${PDR} ${YYYYMMDD} ${SOURCE} ${HH}
  * sr_subscribe: log ignore message when already in cache
  * sr_subscribe: events option is consider to perform link and delete messages
  * sr_subscribe: modified to be a base class instantiated from most programs
  * sr_subscribe: integration of restore_queue, process report_daemons, save/restore
  * sr_subscribe: help module : treats sr_shovel,sr_winnow,sr_sarra cases
  * sr_sender: for R and L messages skip offset/length setting in module set_local()
  * sr_shovel: caching optional default to False
  * sr_config: some save,restore and cache defaults
  * sr_config: inflight supports duration_from_str (for sr_watch/post)
  * sr_config: duration_from_str  time suffix [sS] [mM] [hH] [dD] [wW] where applicable
  * sr_config: module configure cleans up extended options (proper reload)
  * sr_config: option -headers to add,delete or reset user's  key,value pair in message headers
  * sr_ftp,sr_sftp: connect/reconnect resets cdir (current dir)
  * sr_ftp,sr_sftp,sr_http: standardisation, http exception (no hang)
  * sr_ftp,sr_sftp,sr_http: fix Eric's os.getcwd bug, add preventive fp.flush and os.fsync
  * msg_total.py: plugin skip total byte increment when no partstr in message
  * sr_message: move support with oldname/newname (impact watch,post,subscribe,sarra,sender to come)
  * sr_message: srcpath turned to baseurl, set_notice(baseurl,relpath) ***impact all programs
  * sr_message: trim_headers for user added headers key,value pair  ***impact all programs
  * sr_cache: module cache.check_msg ... process correctly message without parts (sum L and R)
  * sr_audit,sr speed up through class instantiation and direct broker connection
  * sr_audit fix permissions for source and subscribe users
  * sr_amqp,sr_pika: cleanup skip removal of exchanges xpublic,xreport,xwinnow*
  * sr_util:  startup_args catches -help when only args given
  * flow_test: several changes to make it more reliable.



 -- Peter Silva <peter@idefix>  Thu, 12 Oct 2017 17:58:52 -0400

libsarra-c (2.17.09a1) unstable; urgency=medium

  * FIXME: do old cache files need to be deleted during upgrade? update RELEASE_NOTES
  * expire DEFAULT CHANGED:  7 days -> 5 minutes.  Avoiding pump overloading turns out to be critical.
  * new plugin msg_to_clusters, simplified replacement of inter-cluster routing logic.
  * sr_watch, returned to recursive formulation of sr_watch, reduces overhead substantially.
  * flow_test now includes ftp download test.
  * flow_test now uses sr_audit, queues and exchanges extant now tested.
  * flow_test now waits for queues to drain (so it works more often.)
  * fix (bug# 88) for sr_audit creating report queues with no consumers.
  * sr_poll and plugin/poll_script.py post with parent.post  (srcpath,relpath instead of url)
  * flow_templates under poll|post|watch modified not to generate errors in flow logs
  * flow_templates shovel t_dd[12].conf  reject .*citypage.*  to avoid errors in flow logs
  * plugin/msg_by_user.py now considers msg.report_user for v02.report messages (correct error in flow logs)
  * flow_check.sh shows classified list of errors in log or report No error found
  * sr_poster unused in sr_poll, sr_winnow, sr_sender, sr_shovel
  * sr_winnow, sr_subscribe supports caching on messages
  * sr_config  post_url option equivalent to url
  * sr_subscribe support posting if post_broker is set (and other post options)
  * plugin heartbeat_cache : cache clean/save + stats if cache_stat = True
  * all program consuming... calls heartbeat_check themselves
  * move hearbeat code from sr_consumer to sr_config
  * cache is cleaned every heartbeat.

 -- Peter Silva <peter.silva@canada.ca>  Wed, 06 Sep 2017 18:26:31 -0400

libsarra-c (2.17.08a1) unstable; urgency=medium

  * sr now starts|stops sr_cpost when appropriate.
  * tools now use ~/.ssh credentials, without need for a credentials.conf entry.
  * throttle use better time function
  * sr_message  topic without filename
  * sr_http  timeout + self test
  * sr_sftp self test works
  * sr_sftp/sr_ftp call self.close on download or send problems (attempted bugfix.)
  * sr_sender sftp/ftp bugfix now honours *mirror true* default. was ignored before.
  * sr_cache same algorithm as the C implementation
  * getting rid of cluster routing logic, gateway_for/, to be implemented with plugins.
  * debian packaging for C. 
  * C posting library, including sr_cpost that replicates post and watch is complete.
  * C libc shim that calls C posting library complete.
  * getting rid of random checksums (L & R -> SHA512 digest.)

 -- Peter Silva <peter@idefix>  Mon, 14 Aug 2017 17:54:33 -0400

libsarra-c (2.17.07a4) unstable; urgency=medium

  * changed *chmod* interpretation. Was obsolete in favour of umask, now an option to override umask.
  * bug fixes for chmod not being done in a number of situations where it was required.

 -- peter <peter@blacklab.bsqt.homeip.net>  Thu, 27 Jul 2017 22:52:16 -0400

libsarra-c (2.17.07a3) unstable; urgency=medium

  * on_heartbeat support added to sr_watch. 

 -- Peter Silva <peter@idefix>  Thu, 27 Jul 2017 12:34:47 -0400

libsarra-c (2.17.07a2) unstable; urgency=medium

  * on_post plugins were broken in 2.17.07a1 
  * on_heartbeat now defaults to heartbeat_log as one would expect, and documented both.


 -- Peter Silva <peter@idefix>  Wed, 26 Jul 2017 11:02:30 -0400

libsarra-c (2.17.07a1) unstable; urgency=medium

  * sr_sarra bug fix os_.exit
  * All sarra programs have standard invoke : pgm [args] action config... old way still supported (MG)
  * sr_util defines a function startup_args to parse sarra program arguments (MG)
  * sr_audit --users : makes sure exchanges/queues configured on pump are setup (MG)
  * all programs manage exchanges/queues through action 'cleanup','declare','setup' (MG)
  * sr_poll nows supports http (MG)
  * sr_poll start posting without parts when it has no clue for size (MG)
  * on_html_page added in config and sr_poll with default http_page.py (MG)
  * on_watch added in config and sr_watch (MG)
  * sr_http.py now has a valid class sr_http (used in sr_poll) (MG)
  * mode bits limited to the last four digits (upper digits non portable anyways.)
  * C implementation of libsrshim, libsarra, sr_cpost, and sr_subjsondump  in C (not packaged yet.)
  * fixed bogus error message from backward compatibility plugins.
  * added mtime check to sarra and sr_subscribe so that if of new file is <= file_on_disk, then don't download.


 -- peter <peter@blacklab.bsqt.homeip.net>  Tue, 25 Jul 2017 20:51:34 -0400

libsarra-c (2.17.06a3) unstable; urgency=medium

  * git repo url was wrong. Thanks Canadian Tire!
  * compatibility editing local_file (full path) now results in setting new_dir and new_file.
  * still harmonizing sender vs. subsribe api senders use parent.new_file, subs use parent.msg.new_file
  * fixed sender using ftp broken by error message referring to *remote_urlstr* ( replaced by *new_urlstr* )
  * files were created as public write because umask was overridden. Dunno why it was there in the first place.
  * strip fixed in sr_subscribe.
  * flatten fixed in sr_config.
  * crasher bug when sr_sender doesn´t have a post_broker.

 -- Peter Silva <peter@idefix>  Thu, 22 Jun 2017 17:20:03 -0400

libsarra-c (2.17.06a2) unstable; urgency=medium

  * added chmod_log for log files, which were defaulting to public writable... no idea why, set default to 600.
  * changed posting default for to_clusters from ALL to the hostname of the broker.
  * moved accept/reject processing into sr_poster.post, so automatically honoured when using plugin scripts that call it.
  * fix bug#86 DESTFNSCRIPT in one accept would be used by subsequent ones.
  * fix bug#51 now use new_path, rather than local_path in consumers, and remote_path in senders. all can use same plugins. 
  * includes warnings for existing plugins to change their variable names, old ones should still work, just prompt warning in log.


 -- peter <peter@blacklab.bsqt.homeip.net>  Tue, 13 Jun 2017 01:00:09 -0400

libsarra-c (2.17.06a1) unstable; urgency=medium

  * Added default value of 'ALL' for *to_clusters* of  and *gateway_for* to make those options... optional.
  * Adding *preserve_time* option (default: True), to have mtime from source reflected in files written.
  * Adding *preserve_mode* option (default: True)  the move mode bits from source reflected in files written.
  * deprecating *interface* setting, code from Jun. one less thing to set. Now scans all interfaces for *vip*
  * polling script should still sleep for *sleep* seconds if the script fails. busyloop is bad.
  * added download_dd plugin, which does multiple process copies (striping individual files.)
  * documentation improvement: made *blocksize* the main partitioning option, *parts* is developer only.
  there was an error in that usage of parts actually referred partially to blocksize
  * fixed blocksize=1 to mean send entire file, not 1 byte blocks.
  * fix bug#66 for sr_sender to put the actual file name on the destination (after destfn, etc...) 
  * sr_sarra: suppressedn excessive messages about who has vip in debug mode.
  * sr_sarra:  fixed -strip.  Did not work at all before.
  * added the poll_script.py plugin as an example for sr_poll.
  * fix from Eric for wrong permissions in sr_sftp.
  * removed useless import in line_mode.py plugin which breaks it on python 3.2
  * fix from Eric for wrong permissions in sr_ftp. (bug #84)
  * added version strings to components log and usage outputs.
  * added sr_poll to flow_test (from Daniel)
  * some re-organizing of code in sr_watch.
  * implement 0400 default permission mask in sr_poll.
  * note on how to encode special characters in passwords in credentials.conf
  * some plugin improvements from Dominic Racette.


 -- Peter Silva <peter@idefix>  Wed, 07 Jun 2017 13:47:55 -0400

libsarra-c (2.17.03a5) unstable; urgency=medium

  * added sr_watchb... the old implementation as a backup in case the new sr_watch is busted.
  * attempted fix for sr_walk permission denied issue.  recursion is now manual, and it queues issues for later.

 -- Peter Silva <peter@idefix>  Mon, 27 Mar 2017 16:27:22 -0400

libsarra-c (2.17.03a4) unstable; urgency=medium

  * attempted fix for bug #79 (.tmp file stay when download fails.) not tested.
  * added 's', SHA512 checksum support.
  * after a shovel has restored a queue from a save file, it now exits.
  * on repeated saves, json save files of same data will now be identical (key ordering issue.)
  * added 'attempt' setting to make the number of retries programmable.
  * fixed on_line plugins being broken in sr_poll.
  * fixed 'reject' not working in sr_poll.
  * added -save_file option to shovel and sender to allow arbitrary locations for save files. 
  * report_daemons False option setting now stops report routing shovels from starting.
  * added file_age.py to plugins examples.

 -- Peter Silva <peter@idefix>  Sat, 25 Mar 2017 23:08:40 -0400

libsarra-c (2.17.03a2) unstable; urgency=medium

  *problem with releasing a1 had to use a second tag. 

 -- Peter Silva <peter@blacklab>  Sat, 18 Mar 2017 14:42:00 -0400

libsarra-c (2.17.03a1) unstable; urgency=medium

  * feature 61: added save/restore to persist large broker queues to disk
  * init files now included (feature #56)
  * DESTFNSCRIPT usage broken by last release repaired
  * bugs 76, 77, 78 repaired.
  * another bug with file truncation in sftp fixed.

 -- Peter Silva <peter@blacklab>  Sat, 18 Mar 2017 14:36:50 -0400

libsarra-c (2.17.02a1) unstable; urgency=medium

  * added some understanding of symbolic links. 
  * sr_watch faster in many cases, many improvements.
  * sr_post now accepts normal file specifications (more than 1, and rela tive paths)
  * Any component can now use vip/interface for active/passive.  
  * programming: on_*, now stackable (multiple plugins on same hook)
  * programming: do_download plugin examples added for use of wget or scp.
  * other small improvements.

 -- Peter Silva <peter.silva@canada.ca>  Thu, 02 Feb 2017 09:23:22 -0500

libsarra-c (2.16.11a4) unstable; urgency=medium

  * Added moving of log directory from var/log -> log, and replacement of var directory with a symlink.
  * Added setting of passwords by default for broker users by sr_audit.
  * Added --reset flag interpretation by sr_audit so that permissions can be updated easily for all users.
  * Added 'set_passwords' flag to sr_audit, defaulting to True.
  * un-commented the over-ride default exchange for reporting in tsource2send.conf...
  * Corrected the regexp permission masks to allow sources to write to any exchange that starts with xs_<user>
  * Corrected the regexp permissions to allow reading by subs from same.  
  * Reverted patch in sarra that broke download URL's.
  * Add old log exchanges to sr_audit for compatibility with pre-transition clients.
  * Changed test of sender to compare against the ones watch, rather than subscriber.
  * Added measurable test to flow test for sender.
  * Adding sr_watch to flow_test.
  * Added sr_sender to flow test.
  * Removing '/var' so log files are in the normal place now.
  * Optimizing the flow_test script (so it's shorter, more straightforward and regular.) 
  * Documentation cleanup 

 -- Khosrow Ebrahimpour <khosrow.ebrahimpour@canada.ca>  Tue, 22 Nov 2016 13:40:41 -0500

libsarra-c (2.16.11a3) unstable; urgency=medium

  * Fixing a cosmetic but ugly bug. Caused by the URL fix
  * Add unready list to prevent posting unreadable files 

 -- Khosrow Ebrahimpour <khosrow.ebrahimpour@canada.ca>  Tue, 15 Nov 2016 17:51:48 +0000

libsarra-c (2.16.11a2) unstable; urgency=medium

  * fix bug #61: change outputs to better present URL's in logs.
  * just naming of some routines that were imported from sundew, add prefix metpx_...
  * fix bug #54:  Adds interpretation of sundew-specific delivery options to sr_subscribe.

 -- Khosrow Ebrahimpour <khosrow.ebrahimpour@canada.ca>  Mon, 14 Nov 2016 20:11:46 +0000

libsarra-c (2.16.11a1) unstable; urgency=medium

  * Another String too long fix.
  * Potential fix for bug #55 (chdir)

 -- Khosrow Ebrahimpour <khosrow.ebrahimpour@canada.ca>  Tue, 08 Nov 2016 18:26:03 +0000

libsarra-c (2.16.10a2) unstable; urgency=medium

  * Fix issue #42 (header length in AMQP)
  * Numerous doc changes

 -- Khosrow Ebrahimpour <khosrow.ebrahimpour@canada.ca>  Wed, 12 Oct 2016 11:19:01 -0400

libsarra-c (2.16.10a1) unstable; urgency=medium

  * Fixes to self test suite
  * Added calls to the usage strings on a bunch of components
  * Added centralized time format conversion in sr_util
  * Added sr_report(1) manual page.
  * Bugfix for headers too long.
  * Patch to sr_poll to prevent crashing with post_exchange_split.
  * Tentative fix for bug #50 improper requirement of write permissions
  * Process headers dynamically
  * Documentation Updates. 

 -- Khosrow Ebrahimpour <khosrow.ebrahimpour@canada.ca>  Tue, 04 Oct 2016 15:05:34 -0400

libsarra-c (2.16.08a1) unstable; urgency=medium

  * Changed package dependency. Paramiko is now recommended.
  * Major Change: Changed "log" to "report" in all components.
  * Added test case for sr_sender.
  * Documentation Updates. 

 -- Khosrow Ebrahimpour <khosrow.ebrahimpour@canada.ca>  Tue, 09 Aug 2016 15:10:48 -0400

libsarra-c (2.16.07a3) unstable; urgency=medium

  * Ian's fix for sr_sender borked with post_exchange_split.
  * Jun's fix for chmod and chmod_dir to be octal.  

 -- Khosrow Ebrahimpour <khosrow.ebrahimpour@canada.ca>  Fri, 15 Jul 2016 14:09:47 -0400

libsarra-c (2.16.07a2) unstable; urgency=medium

  * Fixed typos that prevent proper install of deb package. 

 -- Khosrow Ebrahimpour <khosrow.ebrahimpour@canada.ca>  Tue, 05 Jul 2016 10:59:39 -0400

libsarra-c (2.16.07a1) unstable; urgency=medium

  * Various updates to sr_post/sr_watch
  * Documentation updates
  * test suite updates
  * Full details in CHANGES.txt

 -- Khosrow Ebrahimpour <khosrow.ebrahimpour@canada.ca>  Mon, 04 Jul 2016 14:38:45 -0400

libsarra-c (2.16.05a2) unstable; urgency=medium

  * Fix bug in default pluging that would prevernt many components from stating
  * updated documentation

 -- Khosrow Ebrahimpour <aspykhe@zerocool>  Mon, 16 May 2016 13:43:39 -0400

libsarra-c (2.16.05a1) unstable; urgency=medium

  * Multiple changes to code
  * Lots of documentation change

 -- Khosrow Ebrahimpour <khosrow.ebrahimpour@canada.ca>  Fri, 13 May 2016 12:55:30 -0400

libsarra-c (2.16.03a10) unstable; urgency=medium

  * support sr_post cache for multiple sr_watch
  * disable lock mechanism in sr_post/sr_poster
  * selected events in sr_watch are now handled by sr_post 

 -- Daluma Sen <daluma.sen@canada.ca>  Wed, 30 Mar 2016 16:14:50 +0000

libsarra-c (2.16.03a9) unstable; urgency=medium

  * sr_poster caching issues on delete... 

 -- Michel Grenier <michel.grenier2@canada.ca>  Thu, 10 Mar 2016 15:49:37 -0500

libsarra-c (2.16.03a8) unstable; urgency=medium

  * sr_config.py should not prevent the creation of sr_audit user_cache_dir

 -- Michel Grenier <michel.grenier2@canada.ca>  Wed, 09 Mar 2016 14:36:15 -0500

libsarra-c (2.16.03a7) unstable; urgency=medium

  * sr_audit bug fix when adding subscribe user

 -- Michel Grenier <michel.grenier2@canda.ca>  Wed, 09 Mar 2016 10:43:19 -0500

libsarra-c (2.16.03a6) unstable; urgency=medium

  * fix typo in testing argument pump

 -- Michel Grenier <michel.grenier2@canada.ca>  Wed, 09 Mar 2016 09:24:07 -0500

libsarra-c (2.16.03a5) unstable; urgency=medium

  * make sure sr_config.defaults() preceeds sr_config.general() everywhere...
  * would cause harmless but annoying log errors 

 -- Michel Grenier <michel.grenier2@canada.ca>  Wed, 09 Mar 2016 08:19:26 -0500

libsarra-c (2.16.03a4) unstable; urgency=medium

  * sr_watch Daluma's last version... with defaults for blocksize(200Mb) and caching True

 -- Michel Grenier <michel.grenier2@canada.ca>  Tue, 08 Mar 2016 17:19:27 -0500

libsarra-c (2.16.03a3) unstable; urgency=medium

  *  sr_config/sr_post  fix for document_root and paths
  *  seems that I did not install  2.16.03.a2 also  :-(

 -- Michel Grenier <aspymjg@zerocool>  Tue, 08 Mar 2016 14:38:36 -0500

libsarra-c (2.16.03a1) unstable; urgency=medium

  * sr_audit add old sr_admin func through --pump
             tolerate exchanges that starts with 'x'
             delete queue > max_queue_size if not running

  * sr_config add options: loglevel,prefetch
          expire = 1 week (queue expire after 1 week)
          log = sets a log directory (not a file)
          unrecognized option :log warning BUT added as attribute of class with value
          log_daemons option : True  attempt to start sr_2xlog,sr_log2source,sr_log2clusters
          (may not work if no configuration to make them run)
          admin : use url (instead of username completed by feeder option)

   * sr_consumer : prefetch from parent (sr_config modifs)

   * sr_post : if log is configured or given as argument, set it as log file.
               queue_name now used for retransmission directly to client's queue source can also be used.
               lock_set, lock_unset for caching lock.

   * sr_poster: caching, reset, blocksize implemented.

   * sr_message : processes correctly retransmitted message from sr_post to queue_name
                  on_message called before notify_only is tested
                  overwrite default to False 
                  

   * queue_share option removed : sr_config,sr_consumer,sr_sarra,sr_sender,sr_shovel,sr_subscribe,sr_winnow

   * lots of log level changes for all classes.


 -- Michel Grenier <michel.grenier2@canada.ca>  Tue, 08 Mar 2016 09:53:30 -0500

libsarra-c (2.16.02a4) unstable; urgency=medium

  * sr_post easier to use as a class (check not that picky)
  * sr_watch according to sr_post changes

 -- Michel Grenier <michel.grenier@canada.ca>  Thu, 18 Feb 2016 14:38:46 -0500

libsarra-c (2.16.02a3) unstable; urgency=medium

  * sr_audit omitted in setup.py

 -- Michel Grenier <michel.grenier2@canada.ca>  Wed, 17 Feb 2016 12:39:35 -0500

libsarra-c (2.16.02a2) unstable; urgency=medium

  * message with sum=R,0 (deletion) processed
  * sr_post able to post file,directory, and directory tree
  * config, scripts and checksum can be http://... urls
  * sr_audit first release
  * sr_watch uses sr_instances
  * and more...

 -- Michel Grenier <michel.grenier2@canada.ca>  Wed, 17 Feb 2016 12:09:50 -0500

libsarra-c (2.16.01a8) unstable; urgency=medium

  * fixed makefile for debian documentation 
  * building for trusty and xenial

 -- Khosrow Ebrahimpour <khosrow.ebrahimpour@canada.ca>  Fri, 29 Jan 2016 11:37:19 -0500

libsarra-c (2.16.01a7) unstable; urgency=medium

  * some variable substitution in config
  * reload reconfigure (probably busted since not using daemon)
  * lock .  and .tmp  put back
  * include at  sarra level (not only at process config)
  * etc.

 -- Michel Grenier <michel.grenier2@canada.ca>  Thu, 28 Jan 2016 16:31:13 -0500

libsarra-c (2.16.01a6) unstable; urgency=medium

  * connection sftp/ftp/ftps connected until batch reached or changing destination
  * timeout on channel sftp
  * sr_config  include

 -- Michel Grenier <michel.grenier2@canada.ca>  Tue, 26 Jan 2016 16:13:10 -0500

libsarra-c (2.16.01a5) trusty; urgency=medium

  * sr_config added delete,reset option
  * sr_consumer uses reset to delete queue before declaration
  * sr_sftp bug fix, added delete option after download
  * sr_ftp added delete option after download
  * sr_poll bug fix

 -- Michel Grenier <michel.grenier2@canada.ca>  Fri, 22 Jan 2016 17:16:37 -0500

libsarra-c (2.16.01a4) trusty; urgency=medium

  * sr_config : parsing changed, method configure added
  *             .cache/.config overlaps nicely
  * sr_*      : impact for sr_config changes
  * sr_log.py : uses sr_instances
  * sr        : manage sr_log

 -- Michel Grenier <michel.grenier2@canada.ca>  Thu, 21 Jan 2016 12:16:39 -0500

libsarra-c (2.16.01a3) trusty; urgency=medium

  * Added sr_winnow.
  * Modified how sr_sarra deals with named queue
  * Fixed some issues with sr_*  missing the declaration of an ok variable in certain circumstances.

 -- Khosrow Ebrahimpour <khosrow.ebrahimpour@canada.ca>  Tue, 12 Jan 2016 09:49:53 -0500

libsarra-c (2.16.01a2) trusty; urgency=low

  * startup calls, sr_instances fix, sr_message fix

 -- Michel Grenier <michel.grenier2@canada.ca>  Fri, 08 Jan 2016 14:23:39 -0500

libsarra-c (2.16.01a1) trusty; urgency=medium

  * Multiple improvements and bug fixes.

 -- Khosrow Ebrahimpour <khosrow.ebrahimpour@canada.ca>  Thu, 07 Jan 2016 10:40:17 -0500

libsarra-c (2.15.12a4) trusty; urgency=medium

  * Improved documentation
  * Bug fix in mirroring in sr_subscribe  
  * Bug fix for on_part, on_file in sr_file

 -- Khosrow Ebrahimpour <khosrow.ebrahimpour@canada.ca>  Wed, 23 Dec 2015 11:15:56 -0500

libsarra-c (2.15.12a3) trusty; urgency=medium

  * Incremental release
  * Example on_file script included with package now

 -- Khosrow Ebrahimpour <khosrow.ebrahimpour@canada.ca>  Mon, 21 Dec 2015 14:59:35 -0500

libsarra-c (2.15.12a2) trusty; urgency=medium

  * Incremental release. Still in pre-alpha.

 -- Khosrow Ebrahimpour <khosrow.ebrahimpour@canada.ca>  Tue, 15 Dec 2015 10:19:50 -0500

libsarra-c (2.15.12a1) trusty; urgency=medium

  * Changing the versioning scheme for sarracenia

 -- Khosrow Ebrahimpour <khosrow.ebrahimpour@canada.ca>  Wed, 09 Dec 2015 14:36:47 -0500

libsarra-c (0.1.1) trusty; urgency=low

  [ Khosrow Ebrahimpour ]
  * resetting the version number on the package

 -- Khosrow Ebrahimpour <khosrow.ebrahimpour@canada.ca>  Wed, 18 Nov 2015 14:36:31 +0000

libsarra-c (0.8-precise) trusty; urgency=low

  [ Michel Grenier ]
  * lock option set to . will be used as a temporary prefix for download
  * command line option [-l logdir] used to log into a file instead of stdout
  * option  queue to set a queue name
  * option  durable to set a queue durable
  * option  expire  to set a number of minutes to remove queue when unconnected

 -- Michel Grenier <michel.grenier@ec.gc.ca>  Mon, 04 Aug 2014 19:44:18 +0000

libsarra-c (0.7-precise) trusty; urgency=low

  [ Michel Grenier ]
  * uses python-amqplib

 -- Michel Grenier <michel.grenier@ec.gc.ca>  Mon, 04 Aug 2014 19:44:18 +0000

libsarra-c (0.6-precise) trusty; urgency=low

  [ Michel Grenier ]
  * supports newer type of messages under topic that starts with v00

 -- Michel Grenier <michel.grenier@ec.gc.ca>  Mon, 04 Aug 2014 19:44:18 +0000

libsarra-c (0.5-precise) trusty; urgency=low

  [ Michel Grenier ]
  * loop wget and addition of a timeout of 180 secs by default to download the file

 -- Michel Grenier <michel.grenier@ec.gc.ca>  Mon, 03 Feb 2014 19:44:18 +0000

libsarra-c (0.4-precise) trusty; urgency=low

  [ Michel Grenier ]
  * while loop over consumer.run() to stay alive when server/service stops/restarts

 -- Michel Grenier <michel.grenier@ec.gc.ca>  Mon, 03 Feb 2014 19:44:18 +0000

libsarra-c (0.3-precise) trusty; urgency=low

  [ Michel Grenier ]
  * default exchange name now set to xpublic

 -- Michel Grenier <michel.grenier@ec.gc.ca>  Mon, 03 Feb 2014 19:44:18 +0000

libsarra-c (0.2-precise) trusty; urgency=low

  [ Michel Grenier ]
  * release notes announcing the change of the default exchange name to xpublic
  * call to exchange_declare : expose all option settings

 -- Michel Grenier <michel.grenier@ec.gc.ca>  Mon, 27 Jan 2014 19:44:18 +0000

libsarra-c (0.1-precise) trusty; urgency=low

  [ Michel Grenier ]
  * initial release

 -- Michel Grenier <michel.grenier@ec.gc.ca>  Thu, 10 Oct 2013 19:44:18 +0000
